# @nodeproto/configproto - base eslint config
# ^ supports all envs by default
# @see https://eslint.org/docs/user-guide/configuring/language-options
env:
  es2021: true
  node: true
  browser: true

# @see https://github.com/babel/babel/tree/main/eslint/babel-eslint-parser
# @see https://github.com/babel/babel/blob/main/eslint/babel-eslint-config-internal/index.js
parser: '@babel/eslint-parser/experimental-worker'
parserOptions:
  requireConfigFile: false
  sourceType: module
  allowImportExportEverywhere: false
  ecmaVersion: 2021
  # set babelOptions when extending if dont want to use a babel config/using webpack + babel-loader
  # babelOptions

# glob-based configuration
overrides:
  - files: ['*.cjs'] # need to confirm this
    parserOptions:
      sourceType: 'script'

globals:
  # flow
  Iterator: true
  $Keys: true

extends:
  - eslint:all
  - plugin:import/recommended
  - plugin:node/recommended
  - plugin:promise/recommended

plugins:
  - flowtype
  # - '@babel'

rules:
# great rules here
  # js
  no-multiple-empty-lines: 'error'
  no-throw-literal: 'error'
  prefer-named-capture-group: 'off' # performance
  prefer-object-spread: 'error'
  sort-imports: 'error' # I hate serching a list for shit
  sort-keys: 'error' # i hate searchig a list for shit
  max-lines-per-function:
    - error
    - skipBlankLines: true
      skipComments: true
  # flow specific rules
  flowtype/define-flow-type: 'warn'
  flowtype/use-flow-type: 'warn'


# dumb fkn rules here
  arrow-parens: 'off'
  capitalized-comments: 'off'
  comma-dangle: 'off' # love trailing commas
  id-length: 'off' # we support junior devs without hampering others
  line-comment-position: 'off'
  multiline-comment-style: 'off'
  no-inline-comments: 'off'
  no-ternary: 'off'
  semi: 'off' # love ending semi - read this https://eslint.org/docs/rules/semi

# doesnt seem to work right - but would be great if it did
  node/no-unpublished-import: 'off'
